<!DOCTYPE html>
<html>
<head>
<title>COMP2601</title>
<style>
body {
	font-family: arial;
	margin-left: 80px;
}
p {
	font-size:24px;
}
pre {
	font-size:20px;
}
hr {
	width: 100%;
	height: 2px;
	
	margin-top:10px;
	margin-bottom:10px
}
.header {
	text-align: center;
	font-weight: bold;
	font-size: 40px;
	
	margin-top:0px;
	margin-bottom:0px;
	
	color: rgb(153, 0, 0);
}
.subheader {
	color: #000099;
	
	margin-bottom:100px;
}
.segment-header {
	color: rgb(0, 0, 153);
	font-size: 30px;
}
.black-bold {
	color: rgb(0,0,0);
	font-weight: bold;
}
.glossary-term {
	font-weight: 700;
	color: #000099;
}
.code {
	font-family: 'Courier New';
}
.comment {
	color:rgb(0, 128, 0);
}
ul li {
	margin-bottom: 5px;
	font-size:24px;
}
.red {
	color: #F00;
}
.green {
	color: #090;
}
</style>
</head>
<body>
<p class="header">COMP 2601 Winter 2016</p>
<p class="header subheader">Ex 15 Pattern-Based Client-Server</p>
<p>&copy; L.D. Nel 2016</p>
<hr />
<p class="red">Revisions -none yet</p>
<hr />
<p class="segment-header">Description:</p>
<p>The purpose of this exercise is to explore a client-server application whose code organization is based on patterns. Patterns became very popular after the publication in 1994 of the Gamma et al. book &quot;Design Patterns&quot;. Patterns are meant to provide archetypal solutions to reoccurring problems in object-oriented programming.</p>
<p>The demo code for this exercise consists of two parts: an android client and a java server provided as an eclipse project. You will need two android clients running to test this code as they communicate with each other through the server. Launch the server before launching the clients.</p>
<p class="red">You need to demonstrate your exercise to the TA or Prof. before you leave the class to get credit for it. Marks: 2 or completion, 1 for partial progress, 0 for no show or no progress. (A mark of 1 can be upgraded to 2 is show us your completed work within one week of this exercise.)</p>
<hr/>
<p class="segment-header">Instructions:<br />
</p>
<p class="segment-header"><span class="black-bold">Preliminary:</span></p>
<p>The demo code provided consists of a working server and an <span class="red">unfinished</span> android client. Both applications are based on patterns: Singleton, Observer and Reactor. You can start a server locally but we will also start a copy on the class router so everyone can connect to the class server to communicate with each other's clients.</p>
<p>The application runs a Tic Tac Toe game server that allows clients to play games with each other. When a client successfully connects to the server it will see a list of all the other clients currently connected. For example, in the images below the client on the left is &quot;N58&quot; and the client on the right is &quot;N70&quot;. The client on the left sees &quot;N70&quot; as another connected user, and the client on the right sees &quot;N58&quot; as another connected user.</p>
<p><img src="images/left client.png" width="345" height="336" alt=""/>   <img src="images/right client.png" width="344" height="314" alt=""/></p>
<p>A client can invite another user to play a game by clicking on a user in the connected users list. That user will receive an invitation to have a game.</p>
<p><img src="images/invitor.png" width="343" height="493" alt=""/> <img src="images/invitee.png" width="345" height="411" alt=""/></p>
<p>If the invitation is accepted a game board will appear on both clients. One of the clients should press the &quot;Start&quot; button for the game to commence.</p>
<p><img src="images/player1.png" width="349" height="407" alt=""/> <img src="images/player2.png" width="341" height="395" alt=""/></p>
<p>&nbsp;</p>
<p>Once a game commences, the player who originally intitiated the game plays first by clicking on a square and the players take turns until the game ends.</p>
<p><img src="images/player1-2.png" width="344" height="427" alt=""/> <img src="images/player 2-2.png" width="343" height="383" alt=""/></p>
<p>&nbsp;</p>
<p>The goal of this exercise is to study the client code and complete it so that you can have a game with one of the other users. <span class="red">Note the demo code will not run as discribed above until you have completed the required modifications. You will likely be able to launch the game but no X's an O's will appear until you have finished the Problem 1 exercise.</span></p>
<p>To get 1 mark for this exercise you need to be able to play a game with another user. To get 2 marks you have to beat someone!</p>
<pre>&nbsp;</pre>
<p class="segment-header"><span class="black-bold">Problem 1)  Implementing the Observer Pattern.</span></p>
<p>The demo code is based on three design pattern: The Singleton Pattern, The Observer Pattern, and a Reactor Pattern. The Singleton and Observer are both from among the orginal 23 Gamma et al. patterns. The Reactor pattern is not part of the &quot;original 23&quot; but is commonly found in client-server applications where services are invoked from a single thread watching for client requests.</p>
<p>The <span class="code">Game</span> and <span class="code">GameActivity</span> instances are meant to participate in an <span class="black-bold">Observer</span> pattern with one playing the role of &quot;subject&quot; and the other the role of &quot;observer&quot;. The implementation should be consistent with the roles of <span class="code">java.util.Observable</span> and <span class="code">java.util.Observer</span>.</p>
<p>Java has deemed the Observer pattern so important that it provides built in classes to play roles in the pattern. For this problem study what is provided by superclass <span class="code">java.util.Observable</span> and the <span class="code">interface java.util.Observer</span>. That is, what is required by a class to participate in one of these Observer-pattern roles.</p>
<p>When you feel you understand these roles, modify the <span class="code">Game</span>, and <span class="code">GameActivity</span> classes so that they correctly play these roles in the observer pattern.</p>
<p>When you have finished this problem you should be able to run your code and play the intended game. <span class="black-bold">[Note there is very little code to write to do this. Just modifying a few lines and adding a method or two should be sufficient.]</span></p>
<p>&nbsp;</p>
<p class="segment-header"><span class="black-bold">Problem 2 - Singleton Pattern.</span></p>
<p>Find an instance of the Singleton Pattern being used in the demo code and be prepared to explain to the TA, or Prof. where it is and how it is being used.</p>
<p>&nbsp;</p>
<p class="segment-header"><span class="black-bold">Problem 3 - Reactor Pattern.</span></p>
<p>The demo code client and server both make use of a Reactor Pattern. In the client all the classes that implement this pattern is in the <span class="code">communication</span> sub-package. Though the Reactor Pattern is quite complex, part of it is built like an Observer pattern. Study the classes provided and identify a portion of it that behaves like an Observer pattern. Be prepared to explain to the TA or Prof. what part of it seems to work like an Observer pattern.</p>
<p>&nbsp;</p>
<p><span class="red">When you have completed these problems demonstrate your code to  the TA or Prof. to get credit for the tutorial.</span>Â </p>
<p>&nbsp;</p>
<p></p>
<p class="segment-header">&nbsp;</p>

</body>
</html>
